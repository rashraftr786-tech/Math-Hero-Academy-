<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Grade 3 Math World - Mohammad Ashraf Rather</title>
    <style>
        :root {
            --sky: #4fc3f7; --grass: #66bb6a; --pink: #ff4081;
            --ocean: #0277bd; --factory: #78909c; --gold: #ffeb3b;
        }
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; font-family: 'Arial Rounded MT Bold', sans-serif; overflow: hidden; }
        #app { display: flex; flex-direction: column; height: 100vh; width: 100vw; transition: 0.5s; }
        
        /* THEMES */
        .theme-home { background: #ffcc80; }
        .theme-addition { background: linear-gradient(to bottom, var(--sky), var(--grass)); }
        .theme-subtraction { background: linear-gradient(to bottom, #ffe082, #8d6e63); }
        .theme-multiplication { background: var(--factory); }
        .theme-division { background: var(--ocean); }

        /* UI ELEMENTS */
        .hud { background: white; padding: 10px; display: flex; justify-content: space-between; border-bottom: 5px solid #ddd; z-index: 10; }
        .screen { flex-grow: 1; display: flex; flex-direction: column; align-items: center; padding: 20px; overflow-y: auto; }
        .hidden { display: none !important; }

        /* MENU */
        .grid-menu { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; max-width: 450px; margin-top: 20px; }
        .op-btn { height: 110px; border: none; border-radius: 20px; color: white; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 0 rgba(0,0,0,0.2); }
        .btn-add { background: var(--pink); } .btn-sub { background: #4caf50; }
        .btn-mul { background: #ff9800; } .btn-div { background: #2196f3; }

        /* 3RD GRADE GAMEPLAY */
        .question-card { background: white; border-radius: 25px; padding: 20px; width: 85%; text-align: center; border: 4px solid var(--pink); margin-bottom: 20px; }
        .math-text { font-size: 2.5rem; margin: 10px 0; color: #333; }
        
        /* Multiplication Array */
        .array-container { display: grid; gap: 5px; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 10px; }
        .array-dot { width: 30px; height: 30px; background: var(--gold); border-radius: 50%; border: 2px solid #fbc02d; }

        /* Division Groups */
        .ocean-zone { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .fish-bowl { width: 100px; height: 100px; border: 4px solid white; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; flex-wrap: wrap; justify-content: center; align-items: center; }

        /* INPUT AREA */
        .answer-box { display: flex; gap: 10px; margin-top: 20px; }
        .num-pad { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 15px; }
        .key { width: 50px; height: 50px; background: white; border-radius: 10px; border: 2px solid #ddd; font-size: 1.2rem; font-weight: bold; cursor: pointer; }

        /* POPUP */
        .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 100; }
        .win-card { background: white; padding: 30px; border-radius: 30px; text-align: center; }
        .footer { background: white; text-align: center; padding: 10px; font-size: 0.8rem; }
    </style>
</head>
<body class="theme-home">

<div id="app">
    <div class="hud">
        <div style="font-size: 1.2rem;">‚≠ê Stars: <span id="stars">0</span></div>
        <button onclick="goHome()">üè† Home</button>
    </div>

    <section id="screen-home" class="screen">
        <div style="text-align:center">
            <div style="font-size: 80px;">‚úèÔ∏è</div>
            <div style="background:white; padding:10px; border-radius:15px; border:3px solid var(--pink)">
                <b>Mohammad Ashraf Rather's</b><br>Grade 3 Math Adventure!
            </div>
        </div>
        <div class="grid-menu">
            <button class="op-btn btn-add" onclick="startOp('addition')">üåà Addition<br>(Carry Over)</button>
            <button class="op-btn btn-sub" onclick="startOp('subtraction')">üçé Subtraction<br>(Borrowing)</button>
            <button class="op-btn btn-mul" onclick="startOp('multiplication')">üß∏ Multiplication<br>(Arrays)</button>
            <button class="op-btn btn-div" onclick="startOp('division')">üê† Division<br>(Grouping)</button>
        </div>
    </section>

    <section id="screen-game" class="screen hidden">
        <div class="question-card">
            <h2 id="level-title" style="margin:0; color:var(--pink)">Addition Level 1</h2>
            <div id="math-display" class="math-text">24 + 18 = ?</div>
            <div id="visual-hint"></div>
        </div>

        <div style="background:white; padding:15px; border-radius:20px; border:2px solid #ddd">
            <div style="font-size:1.2rem; margin-bottom:10px">Enter Answer:</div>
            <input type="number" id="user-ans" readonly style="font-size:2rem; width:120px; text-align:center; border:3px solid var(--pink); border-radius:10px;">
            <div class="num-pad" id="numpad">
                </div>
            <button onclick="checkAnswer()" style="width:100%; margin-top:15px; padding:15px; background:var(--grass); color:white; border:none; border-radius:10px; font-weight:bold; font-size:1.2rem;">SUBMIT ‚úÖ</button>
        </div>
    </section>

    <footer class="footer">
        Designed & Developed by <b>Mohammad Ashraf Rather</b> | PS Pethgam Wagoora
    </footer>
</div>

<div id="win-popup" class="overlay hidden">
    <div class="win-card">
        <h1 style="font-size:3rem">üåü</h1>
        <h2>Correct!</h2>
        <p>Excellent 3rd Grade Thinking!</p>
        <button onclick="nextLevel()" style="padding:15px 40px; background:var(--grass); color:white; border:none; border-radius:15px; font-size:1.2rem">Next Level ‚ûî</button>
    </div>
</div>

<script>
    let state = { stars: 0, op: '', level: 1, correct: 0 };

    function goHome() {
        document.getElementById('screen-home').classList.remove('hidden');
        document.getElementById('screen-game').classList.add('hidden');
        document.body.className = 'theme-home';
    }

    function startOp(op) {
        state.op = op; state.level = 1;
        document.getElementById('screen-home').classList.add('hidden');
        document.getElementById('screen-game').classList.remove('hidden');
        document.body.className = 'theme-' + op;
        setupNumPad();
        loadLevel();
    }

    function setupNumPad() {
        const pad = document.getElementById('numpad');
        pad.innerHTML = '';
        [1,2,3,4,5,6,7,8,9,0].forEach(n => {
            let k = document.createElement('button');
            k.className = 'key'; k.innerText = n;
            k.onclick = () => document.getElementById('user-ans').value += n;
            pad.appendChild(k);
        });
        let clr = document.createElement('button');
        clr.className = 'key'; clr.innerText = 'C'; clr.style.background = '#ffc107';
        clr.onclick = () => document.getElementById('user-ans').value = '';
        pad.appendChild(clr);
    }

    function loadLevel() {
        document.getElementById('user-ans').value = '';
        document.getElementById('win-popup').classList.add('hidden');
        const display = document.getElementById('math-display');
        const hint = document.getElementById('visual-hint');
        hint.innerHTML = '';

        let n1, n2;
        if(state.op === 'addition') {
            n1 = 10 + Math.floor(Math.random() * (state.level * 10));
            n2 = 10 + Math.floor(Math.random() * (state.level * 10));
            state.correct = n1 + n2;
            display.innerText = `${n1} + ${n2} = ?`;
            document.getElementById('level-title').innerText = "Addition (Carry Over)";
        } 
        else if(state.op === 'subtraction') {
            n1 = 30 + Math.floor(Math.random() * 50);
            n2 = 10 + Math.floor(Math.random() * 20);
            state.correct = n1 - n2;
            display.innerText = `${n1} - ${n2} = ?`;
            document.getElementById('level-title').innerText = "Subtraction (Borrowing)";
        }
        else if(state.op === 'multiplication') {
            n1 = 2 + Math.floor(Math.random() * 4);
            n2 = 2 + Math.floor(Math.random() * 5);
            state.correct = n1 * n2;
            display.innerText = `${n1} √ó ${n2} = ?`;
            document.getElementById('level-title').innerText = "Multiplication (Arrays)";
            // Visual Array
            hint.className = "array-container";
            hint.style.gridTemplateColumns = `repeat(${n2}, 1fr)`;
            for(let i=0; i<state.correct; i++) hint.innerHTML += '<div class="array-dot"></div>';
        }
        else if(state.op === 'division') {
            n2 = 2 + Math.floor(Math.random() * 3);
            state.correct = 2 + Math.floor(Math.random() * 4);
            n1 = n2 * state.correct;
            display.innerText = `${n1} √∑ ${n2} = ?`;
            document.getElementById('level-title').innerText = "Division (Equal Sharing)";
        }
    }

    function checkAnswer() {
        const val = parseInt(document.getElementById('user-ans').value);
        if(val === state.correct) {
            document.getElementById('win-popup').classList.remove('hidden');
            state.stars += 20;
            document.getElementById('stars').innerText = state.stars;
        } else {
            alert("Try again! Check your place values.");
            document.getElementById('user-ans').value = '';
        }
    }

    function nextLevel() {
        state.level++;
        loadLevel();
    }
</script>
</body>
</html>
                
            
