<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Math Adventure - PS Pethgam Wagoora</title>
    <style>
        :root {
            --sky: #87CEEB; --grass: #2ecc71; --pink: #ff4757;
        }
        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Arial Rounded MT Bold', sans-serif; background: var(--sky); color: #2f3542; }
        
        /* THEMES */
        .theme-home { background: #f1c40f; }
        .theme-addition { background: linear-gradient(#87CEEB, #2ecc71); }
        .theme-subtraction { background: linear-gradient(#ffa502, #7d5a50); }
        .theme-multiplication { background: linear-gradient(#a29bfe, #6c5ce7); }
        .theme-division { background: linear-gradient(#74b9ff, #0984e3); }

        /* SCROLLABLE LAYOUT FIX */
        #app-container { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        .game-header { background: white; padding: 10px; display: flex; justify-content: space-between; border-bottom: 4px solid #ddd; z-index: 100; }
        .main-scroll { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; padding: 20px 10px; display: flex; flex-direction: column; align-items: center; }

        /* MENU CARDS */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; max-width: 500px; }
        .menu-card { height: 120px; border: none; border-radius: 20px; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 0 rgba(0,0,0,0.2); }
        .btn-add { background: #ff4757; } .btn-sub { background: #2ed573; }
        .btn-mul { background: #ffa502; } .btn-div { background: #1e90ff; }

        /* PLAY CARDS */
        .math-card { background: white; border-radius: 30px; padding: 20px; width: 90%; max-width: 400px; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.1); border-bottom: 8px solid #ddd; margin-bottom: 20px; }
        .math-text { font-size: 2.8rem; margin: 10px 0; color: #2f3542; letter-spacing: 2px; }
        
        /* VISUAL AIDS (Kindergarten Level Help) */
        .visual-aid { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; background: #f1f2f6; border-radius: 15px; padding: 10px; margin: 10px 0; min-height: 50px; }
        .visual-item { font-size: 2rem; filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.1)); }

        /* NUMPAD */
        .numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; width: 100%; max-width: 300px; margin: 15px auto; }
        .num-key { padding: 15px; background: #dfe4ea; border: none; border-radius: 12px; font-size: 1.4rem; font-weight: bold; cursor: pointer; }
        .submit-btn { width: 100%; max-width: 300px; padding: 18px; background: #2ecc71; color: white; border: none; border-radius: 15px; font-size: 1.5rem; font-weight: bold; margin-top: 10px; box-shadow: 0 6px 0 #27ae60; cursor: pointer; }

        /* CRACKER ANIMATION */
        .cracker { position: fixed; pointer-events: none; width: 10px; height: 10px; border-radius: 50%; z-index: 999; }
        @keyframes burst { 
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(20) translate(var(--x), var(--y)); opacity: 0; }
        }

        .hidden { display: none !important; }
        .footer { padding: 15px; text-align: center; font-size: 0.8rem; background: white; border-top: 1px solid #ddd; }
    </style>
</head>
<body class="theme-home">

<div id="app-container">
    <header class="game-header">
        <div style="font-size: 1.3rem;">‚≠ê Stars: <span id="star-count">0</span></div>
        <button onclick="navHome()" style="padding: 8px 15px; border-radius: 10px; border: 1px solid #ccc; background: white; font-weight: bold;">üè† Home</button>
    </header>

    <div class="main-scroll">
        <section id="scr-home">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 70px;">‚úèÔ∏è</div>
                <h2 style="color: white; text-shadow: 2px 2px #00000044;">Math Adventure World</h2>
                <p style="background: white; padding: 10px; border-radius: 10px;">PS Pethgam Wagoora</p>
            </div>
            <div class="menu-grid">
                <button class="menu-card btn-add" onclick="start('addition')">üåà Addition</button>
                <button class="menu-card btn-sub" onclick="start('subtraction')">üçé Subtraction</button>
                <button class="menu-card btn-mul" onclick="start('multiplication')">üß∏ Multiplication</button>
                <button class="menu-card btn-div" onclick="start('division')">üê† Division</button>
            </div>
        </section>

        <section id="scr-game" class="hidden" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
            <div class="math-card">
                <div id="level-name" style="color: #a4b0be; font-size: 0.9rem;">LEVEL 1</div>
                <div id="math-display" class="math-text">25 + 15</div>
                
                <p style="font-size: 0.8rem; color: #747d8c;">(Visual Aid for Counting)</p>
                <div class="visual-aid" id="visual-aid-box"></div>
                
                <input type="number" id="ans-input" readonly placeholder="?" style="width: 150px; height: 60px; font-size: 2.2rem; text-align: center; border: 3px solid #ff4757; border-radius: 15px; color: #ff4757;">
            </div>

            <div class="numpad">
                <button class="num-key" onclick="key(1)">1</button>
                <button class="num-key" onclick="key(2)">2</button>
                <button class="num-key" onclick="key(3)">3</button>
                <button class="num-key" onclick="key(4)">4</button>
                <button class="num-key" onclick="key(5)">5</button>
                <button class="num-key" onclick="key(6)">6</button>
                <button class="num-key" onclick="key(7)">7</button>
                <button class="num-key" onclick="key(8)">8</button>
                <button class="num-key" onclick="key(9)">9</button>
                <button class="num-key" style="background:#ffa502" onclick="key('C')">C</button>
                <button class="num-key" onclick="key(0)">0</button>
            </div>

            <button class="submit-btn" onclick="check()">SUBMIT ANSWER ‚úÖ</button>
            <div style="height: 50px;"></div> </section>
    </div>

    <footer class="footer">
        Designed & Developed by <b>Mohammad Ashraf Rather</b> | PS Pethgam Wagoora
    </footer>
</div>

<script>
    let g = { stars: 0, mode: '', level: 1, result: 0 };

    function navHome() {
        document.getElementById('scr-home').classList.remove('hidden');
        document.getElementById('scr-game').classList.add('hidden');
        document.body.className = 'theme-home';
    }

    function start(mode) {
        g.mode = mode; g.level = 1;
        document.getElementById('scr-home').classList.add('hidden');
        document.getElementById('scr-game').classList.remove('hidden');
        document.body.className = 'theme-' + mode;
        build();
    }

    function key(v) {
        const i = document.getElementById('ans-input');
        if(v === 'C') i.value = '';
        else if(i.value.length < 4) i.value += v;
    }

    function build() {
        const box = document.getElementById('visual-aid-box');
        const disp = document.getElementById('math-display');
        document.getElementById('ans-input').value = '';
        box.innerHTML = '';
        
        let n1, n2, icon;
        document.getElementById('level-name').innerText = `${g.mode.toUpperCase()} - LEVEL ${g.level}`;

        if(g.mode === 'addition') {
            n1 = 5 + (g.level * 2); n2 = 4 + g.level; icon = 'üç≠';
            g.result = n1 + n2; disp.innerText = `${n1} + ${n2}`;
        } else if(g.mode === 'subtraction') {
            n1 = 10 + g.level; n2 = 2 + g.level; icon = 'üçé';
            g.result = n1 - n2; disp.innerText = `${n1} - ${n2}`;
        } else if(g.mode === 'multiplication') {
            n1 = 2 + Math.floor(g.level/2); n2 = 3; icon = 'üß∏';
            g.result = n1 * n2; disp.innerText = `${n1} √ó ${n2}`;
        } else {
            n2 = 2; g.result = 2 + g.level; icon = 'üê†';
            n1 = n2 * g.result; disp.innerText = `${n1} √∑ ${n2}`;
        }

        // Kindergarten help: Draw icons
        for(let i=0; i<n1; i++) {
            let s = document.createElement('span'); s.className='visual-item'; s.innerText=icon; box.appendChild(s);
        }
    }

    function check() {
        const val = parseInt(document.getElementById('ans-input').value);
        if(val === g.result) {
            fireCrackers();
            g.stars += 20;
            document.getElementById('star-count').innerText = g.stars;
            setTimeout(() => { g.level++; build(); }, 1500);
        } else {
            alert("Oops! Try again.");
        }
    }

    function fireCrackers() {
        for(let i=0; i<30; i++) {
            const div = document.createElement('div');
            div.className = 'cracker';
            div.style.left = '50%'; div.style.top = '50%';
            div.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            div.style.setProperty('--x', (Math.random() - 0.5) * 400 + 'px');
            div.style.setProperty('--y', (Math.random() - 0.5) * 400 + 'px');
            div.style.animation = 'burst 1s forwards';
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 1000);
        }
    }
</script>
</body>
</html>
                    
